/* ===== Core document =================================================== */
html { overflow-y: scroll; scrollbar-gutter: stable; }
/* Prevent Bootstrap modal horizontal shift */
:root { scrollbar-gutter: stable; }
/* ===== Custom Boostrap   =============================================== */
smaller, .smaller {
  font-size: 0.6em;
}

/* Neutralise le padding-right inline ajouté par Bootstrap quand une modale s'ouvre */
body[style*="padding-right"] { padding-right: 0 !important; }

/* Idem pour les barres fixes si tu en as */
.fixed-top[style*="padding-right"],
.sticky-top[style*="padding-right"],
.navbar-fixed-top[style*="padding-right"],
.navbar-fixed-bottom[style*="padding-right"] {
  padding-right: 0 !important;
}


/* ===== Type color tokens =============================================== */
.card-type-Unchanged  { --type-color:#e5e5e5; }
.card-type-Normal     { --type-color:#A8A77A; }
.card-type-Fire       { --type-color:#EE8130; }
.card-type-Water      { --type-color:#6390F0; }
.card-type-Electric   { --type-color:#F7D02C; }
.card-type-Grass      { --type-color:#7AC74C; }
.card-type-Ice        { --type-color:#96D9D6; }
.card-type-Fighting   { --type-color:#C22E28; }
.card-type-Poison     { --type-color:#A33EA1; }
.card-type-Ground     { --type-color:#E2BF65; }
.card-type-Flying     { --type-color:#A98FF3; }
.card-type-Psychic    { --type-color:#F95587; }
.card-type-Bug        { --type-color:#A6B91A; }
.card-type-Rock       { --type-color:#B6A136; }
.card-type-Ghost      { --type-color:#735797; }
.card-type-Dragon     { --type-color:#6F35FC; }
.card-type-Dark       { --type-color:#705746; }
.card-type-Steel      { --type-color:#B7B7CE; }
.card-type-Fairy      { --type-color:#D685AD; }

.card-type-Physical   { --type-color:#a52321; }
.card-type-Special    { --type-color:#268bd2; }
.card-type-Status     { --type-color:#839496; }

/* Cards & sidebar items accented by type (inset bar on the left) */
.card-body[class*="card-type-"],
#sidebar .list-group-item[class*="card-type-"],
#sidebar label.list-group-item[class*="card-type-"] {
  box-shadow: inset 6px 0 0 0 var(--type-color, transparent);
  border-top-left-radius: var(--bs-border-radius);
  border-bottom-left-radius: var(--bs-border-radius);
}

/*  Badge ayant la couleur du type */
.badge-type {
    background-color: var(--type-color) !important;
    color: #fff !important;
}

/* Type pill */
.type-pill {
  display: inline-block;
  padding: .15rem .45rem;
  font-size: .75rem;
  border-radius: 999px;
  color: #0f1115;
  background: var(--type-color);
  font-weight: 700;
  margin-right: .25rem;
}


/* ===== Unified Sidebar ================================================== */
aside .list-group#sidebar { display:block; gap:0; padding:0; }

#sidebar > .mb-3 { margin-bottom: .75rem !important; }

#sidebar .list-group-item.active {
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.12);
  color: inherit;
}

#sidebar .list-group-item.list-group-item-action:not(.active):hover {
  background: rgba(255,255,255,.06);
}

#sidebar .list-group-item.list-group-item-action.active {
  background-color: var(--bs-list-group-active-bg) !important;
  color: var(--bs-list-group-active-color) !important;
  border-color: var(--bs-list-group-active-border-color) !important;
  font-weight: 400 !important;
  box-shadow: none !important;
}

/* Badges truncate */
#sidebar .badge,
#sidebar .list-group-item .badge.bg-light {
  max-width: 10rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Sidebar form tweaks */
#sidebar .form-check { margin-bottom: .25rem; }
#sidebar .form-check-input { margin-top: 0; }
#sidebar label.list-group-item { cursor: pointer; user-select: none; }
#sidebar .text-muted { opacity: .8; }
/* #sidebar .btn { width: 100%; } */

/* Collapsibles */
.triangle-toggle::before {
  content: "";
  display: inline-block;
  margin-left: 4px;
  border-style: solid;
  border-width: 6px 0 6px 10px;
  border-color: transparent transparent transparent #666;
  transition: transform .2s ease-in-out;
}
.collapse-toggle .caret { transition: transform .2s; }
.collapse-toggle:not(.collapsed) .caret,
.collapse-toggle:not(.collapsed) .triangle-toggle::before { transform: rotate(90deg); }

/* Sticky search */
.search-wrap { position: sticky; top: 0; z-index: 10; }


/* ===== Pokédex grid & badges ========================================== */
.dex-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.dex-badge {
  --icon-size: 42px;
  --gap-mid: 12px;
  --num-width: 34px;

  display: grid;
  grid-template-columns: var(--icon-size) var(--gap-mid) var(--num-width) var(--gap-mid) 1fr;
  align-items: center;
  padding: 10px 12px;
  border-radius: 12px;
  background: #151922;
  transition: transform .08s ease, box-shadow .08s ease;
}
.dex-badge:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.25); }
.dex-badge.legendary {
  /* keep an inner golden outline and base shadow */
  box-shadow: inset 0 0 0 2px rgba(255,215,0,0.5), 0 6px 18px rgba(0,0,0,.25);
  position: relative;
  overflow: hidden;
  /* fallback solid background while pseudo-element paints the gradient */
  background: linear-gradient(135deg, #151922 0%, #2a2620 50%, #151922 100%);
}

/* Diagonal metallic gradient (gold + platinum) crossing the border.
   Implemented with a full-size pseudo-element and a thin glossy highlight. */
.dex-badge.legendary::before {
  content: "";
  position: absolute;
  inset: -12%; /* slightly larger so the diagonal crosses cleanly */
  z-index: 0;
  pointer-events: none;
  /* layered gradients: wide soft gold band + metallic silver wash + subtle warm core */
  background:
    linear-gradient(135deg,
      rgba(255,255,255,0.00) 0%,
      rgba(230,232,234,0.12) 8%, /* platinum edge */
      rgba(200,200,200,0.20) 16%,
      rgba(255,240,150,0.20) 28%, /* warm gold wash */
      rgba(255,215,0,0.75) 48%,  /* strong gold core */
      rgba(255,165,0,0.60) 52%,
      rgba(200,200,200,0.20) 72%, /* silver fade */
      rgba(230,232,234,0.10) 84%,
      rgba(255,255,255,0.00) 100%
    );
  transform: rotate(0.001deg);
  filter: saturate(1.25) contrast(1.05) blur(0.2px);
  mix-blend-mode: overlay;
}

/* Thin glossy diagonal highlight for metallic sheen */
.dex-badge.legendary::after {
  content: "";
  position: absolute;
  inset: -30% -40% -30% -40%;
  z-index: 0;
  pointer-events: none;
  background: linear-gradient(135deg,
    rgba(255,255,255,0.00) 0%,
    rgba(255,255,255,0.65) 48%,
    rgba(255,255,255,0.00) 52%);
  transform: skewX(-18deg) translateY(-10%);
  opacity: 0.22;
  filter: blur(6px) saturate(1.2);
}

/* Ensure badge child content sits above the gradient pseudo-elements */
.dex-badge.legendary > * { position: relative; z-index: 1; }

.dex-badge .icon {
  grid-column: 1;
  width: var(--icon-size);
  height: var(--icon-size);
  border-radius: 10px;
  display: grid;
  place-items: center;
  overflow: hidden;
  flex: none;
  border: 1px solid rgba(255,255,255,.06);
}
.dex-badge img { width: 100%; height: 100%; object-fit: none; image-rendering: pixelated; filter: drop-shadow(0 1px 0 rgba(0,0,0,.25)); }
.dex-badge img.is-oversize { object-position: center; }
.dex-num-badge {
  grid-column: 3;
  justify-self: start;
  width: var(--num-width);
  text-align: center;
  display: inline-block;
  background: rgba(255,255,255,.85);
  color: #333;
  font-size: .7rem;
  font-weight: 600;
  border-radius: 4px;
  padding: 4px 7px;
  line-height: 1;
  box-shadow: 0 1px 2px rgba(0,0,0,.2);
}
.dex-label {
  grid-column: 5;
  justify-self: stretch;
  text-align: center;
  background: rgba(255,255,255,.85);
  color: #111;
  padding: 4px 6px;
  border-radius: 6px;
  font-weight: 600;
  font-size: .85rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-wrap: auto;
  box-shadow: 0 1px 2px rgba(0,0,0,.2);
}
.dark-background { background:#0b0d12; }


/* ===== Modal detail view =============================================== */
#dexModal .modal-body { padding: 1rem 1.25rem; }

.dex-detail-head img { display: block; }
.dex-detail-head img.is-oversize { width: 96px; height: 96px; object-fit: contain; }

#dexModal .card.accent { background: rgba(255,255,255,.03); border-color: rgba(255,255,255,.08); }
#dexModal .card.accent .card-body { padding: .75rem 1rem; }

#dexModal h5.text-muted,
#dexModal h6.text-muted { text-transform: uppercase; letter-spacing: .03em; font-size: .82rem; margin-bottom: .35rem; }

#dexModal .dex-title-icon { display:block; width:96px; height:96px; object-fit:none; }
#dexModal .dex-title-types { display:flex; flex-wrap:wrap; gap:.375rem; }

/* Key/Value rows inside modal */
#dexModal .border-bottom.py-1 { border-color: rgba(255,255,255,.08) !important; }
#dexModal .border-bottom.py-1 .fw-bold { opacity:.85; }

.js-move-link, .js-ability-link, .js-species-link { text-decoration:none; cursor:pointer; }
.js-move-link:hover, .js-ability-link:hover, .js-species-link:hover { text-decoration:underline; }

/* ===== Capabilities (numeric & chips) ================================== */
.cap-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: .5rem .75rem;
  margin-bottom: .5rem;
}
@media (min-width: 992px) {
  .cap-grid { grid-template-columns: repeat(3, minmax(0,1fr)); }
}
.cap-item {
  border: 1px solid rgba(255,255,255,.08);
  border-radius: .5rem;
  background: rgba(255,255,255,.03);
  padding: .5rem .625rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.cap-head { display:inline-flex; align-items:center; gap:.4rem; font-weight:600; }
.cap-ic { width:1.15em; display:inline-flex; justify-content:center; }
.cap-key { opacity:.9; }
.cap-val { font-variant-numeric: tabular-nums; font-weight:700; }

.cap-chips { display:flex; flex-wrap:wrap; gap:.375rem .5rem; }
.cap-chip  {
  display:inline-flex; align-items:center; 
  border:1px solid rgba(255,255,255,.12);
  border-radius:999px;
  background:rgba(255,255,255,.04);
}
.cap-chip .cap-ic { width:1em; }
.cap-chip span:last-child { opacity:.95; }
